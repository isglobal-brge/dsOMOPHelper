% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/00_class.R
\name{OMOPCDMHelper}
\alias{OMOPCDMHelper}
\title{OMOP CDM Helper Class}
\description{
This R6 class facilitates the creation and management of tables from an OMOP Common Data Model (CDM) database
through a DataSHIELD connection. It provides an interface to interact with OMOP CDM data in a secure and standardized way.
}
\details{
The OMOPCDMHelper class is designed to:
\itemize{
\item Establish and maintain a connection to an OMOP CDM database
\item Retrieve and filter person-level data
\item Manage data symbols in the DataSHIELD environment
\item Support distributed computing through DataSHIELD's infrastructure
}

The class automatically initializes with the person table as the base table, which can be filtered
by specific columns or person IDs to optimize performance.
}
\examples{
\dontrun{
# Create a new helper instance
helper <- OMOPCDMHelper$new(
  connections = datashield.connections,
  resource = "study_database",
  symbol = "study_data",
  personColumns = c("person_id", "year_of_birth", "gender_concept_id")
)
}

Initialize a new OMOP CDM Helper instance


## ------------------------------------------------
## Method `OMOPCDMHelper$new`
## ------------------------------------------------

\dontrun{
# Basic initialization
helper <- OMOPCDMHelper$new(
  connections = datashield.connections,
  resource = "cdm_database",
  symbol = "study_cohort"
)

# Initialize with specific person columns and filters
helper <- OMOPCDMHelper$new(
  connections = datashield.connections,
  resource = "cdm_database",
  symbol = "filtered_cohort",
  personColumns = c("person_id", "gender_concept_id"),
  personFilter = "existing_cohort"
)
}

}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{OMOPCDMDatabase}}{An object representing the active connection to the OMOP CDM database.}

\item{\code{symbol}}{A character string symbol used to reference the retrieved data in the DataSHIELD environment.}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-OMOPCDMHelper-new}{\code{OMOPCDMHelper$new()}}
\item \href{#method-OMOPCDMHelper-append}{\code{OMOPCDMHelper$append()}}
\item \href{#method-OMOPCDMHelper-tables}{\code{OMOPCDMHelper$tables()}}
\item \href{#method-OMOPCDMHelper-columns}{\code{OMOPCDMHelper$columns()}}
\item \href{#method-OMOPCDMHelper-concepts}{\code{OMOPCDMHelper$concepts()}}
\item \href{#method-OMOPCDMHelper-auto}{\code{OMOPCDMHelper$auto()}}
\item \href{#method-OMOPCDMHelper-get}{\code{OMOPCDMHelper$get()}}
\item \href{#method-OMOPCDMHelper-clone}{\code{OMOPCDMHelper$clone()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-new"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-new}{}}}
\subsection{Method \code{new()}}{
Creates a new instance of the OMOPCDMHelper class and establishes the initial
connection to the OMOP CDM database. The initialization process includes setting up the
database connection and retrieving the base person table.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$new(
  connections,
  resource,
  symbol,
  personColumns = NULL,
  personFilter = NULL,
  ...
)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{connections}}{A DataSHIELD connection object representing the connection(s) to the DataSHIELD server(s).}

\item{\code{resource}}{Either a single identifier string or a named list of identifiers for the database resource(s).
For multiple servers, provide a named list where names match the server names in connections.}

\item{\code{symbol}}{A character string that will be used as the reference name for the retrieved data
in the DataSHIELD environment.}

\item{\code{personColumns}}{Optional character vector specifying which columns to include from the person table.
If NULL, all columns will be retrieved.}

\item{\code{personFilter}}{Optional character string referring to an existing object in the DataSHIELD
environment containing person IDs to filter the data. This can significantly improve
performance when working with a subset of the population.}

\item{\code{...}}{Additional arguments passed to the underlying ds.omop get method.}
}
\if{html}{\out{</div>}}
}
\subsection{Returns}{
A new initialized instance of the OMOPCDMHelper class.
}
\subsection{Examples}{
\if{html}{\out{<div class="r example copy">}}
\preformatted{\dontrun{
# Basic initialization
helper <- OMOPCDMHelper$new(
  connections = datashield.connections,
  resource = "cdm_database",
  symbol = "study_cohort"
)

# Initialize with specific person columns and filters
helper <- OMOPCDMHelper$new(
  connections = datashield.connections,
  resource = "cdm_database",
  symbol = "filtered_cohort",
  personColumns = c("person_id", "gender_concept_id"),
  personFilter = "existing_cohort"
)
}

}
\if{html}{\out{</div>}}

}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-append"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-append}{}}}
\subsection{Method \code{append()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$append(
  table,
  columns = NULL,
  concepts = NULL,
  merge.x = NULL,
  merge.y = NULL,
  ...
)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-tables"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-tables}{}}}
\subsection{Method \code{tables()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$tables()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-columns"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-columns}{}}}
\subsection{Method \code{columns()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$columns(tables = NULL)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-concepts"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-concepts}{}}}
\subsection{Method \code{concepts()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$concepts(tables = NULL, max_length = 60)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-auto"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-auto}{}}}
\subsection{Method \code{auto()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$auto(
  tables = NULL,
  columns = NULL,
  concepts = NULL,
  silent = FALSE,
  ...
)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-get"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-get}{}}}
\subsection{Method \code{get()}}{
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$get(
  table,
  symbol = NULL,
  columnFilter = NULL,
  conceptFilter = NULL,
  personFilter = NULL,
  mergeColumn = NULL,
  dropNA = FALSE,
  ...
)}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-OMOPCDMHelper-clone"></a>}}
\if{latex}{\out{\hypertarget{method-OMOPCDMHelper-clone}{}}}
\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{OMOPCDMHelper$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
